Para saber las bases disponibles en el directorio
blastdbcmd -list ./swissprot/

Para traer info de una base
blastdbcmd -info -db ./swissprot/swissprot

https://www.ncbi.nlm.nih.gov/books/NBK279689/

https://ftp.ncbi.nlm.nih.gov/blast/documents/blastdb.html

https://blast.ncbi.nlm.nih.gov/Blast.cgi?PAGE_TYPE=BlastDocs&DOC_TYPE=Download

https://www.ncbi.nlm.nih.gov/books/NBK279671/#introduction.MacOSX

https://www.ncbi.nlm.nih.gov/books/NBK52640/

Salió error No alias or index file found for nucleotide database [nt] in search path
http://seqanswers.com/forums/showthread.php?t=44370

De los mapeados no encuentra
O35090
P19121

Mando a Entrez
['213', '100174145', '102130757', '448843', '403550', '101837229', '100009195', '24186', '11657']

pero vuelven solo
['gi|213', 'gi|100174145', 'gi|102130757', 'gi|403550', 'gi|101837229', 'gi|100009195', 'gi|24186']

https://www.ncbi.nlm.nih.gov/books/NBK25499/

estaba convirtiendo a entrez id en vez de ref seq

Original (O65493 NM_119701.4)
PSLSKFSLLVAISASALLCCAFARDFSIVGYTPEHLTNTDKLLELFESWMSEHSKAYKSVEEKVHRFEVFRENLMHIDQRNNEINSYWLGLNEFADLTHEEFKGRYLGLAKPQFSRKRQPSANFRYRDITDLPKSVDWRKKGAVAPVKDQGQCGSCWAFSTVAAVEGINQITTGNLSSLSEQELIDCDTTFNSGCNGGLMDYAFQYIISTGGLHKEDDYPYLMEEGICQEQKEDVERVTISGYEDVPENDDESLVKALAHQPVSVAIEASGRDFQFYKGGVFNGKCGTDLDHGVAAVGYGSSKGSDYVIVKNSWGPRWGEKGFIRMKRNTGKPEGLCGINKMASYPTK

CDS
MAFSAPSLSKFSLLVAISASALLCCAFARDFSIVGYTPEHLTNTDKLLELFESWMSEHSKAYKSVEEKVHRFEVFRENLMHIDQRNNEINSYWLGLNEFADLTHEEFKGRYLGLAKPQFSRKRQPSANFRYRDITDLPKSVDWRKKGAVAPVKDQGQCGSCWAFSTVAAVEGINQITTGNLSSLSEQELIDCDTTFNSGCNGGLMDYAFQYIISTGGLHKEDDYPYLMEEGICQEQKEDVERVTISGYEDVPENDDESLVKALAHQPVSVAIEASGRDFQFYKGGVFNGKCGTDLDHGVAAVGYGSSKGSDYVIVKNSWGPRWGEKGFIRMKRNTGKPEGLCGINKMASYPTKTK

secuencia cds
accatctcttcttcttcttcctcttctctcagtgaacaaatttggctatggctttttctgcaccatcactttccaaattctctcttttggttgccatttcagcatcagctctcctctgttgtgcttttgcccgtgatttctccattgttggatacacgccggagcatttgacaaacactgacaagcttctagagctcttcgagtcatggatgtcagaacacagcaaggcttacaaaagcgtggaggagaaggtgcacaggtttgaggttttcagagagaatctgatgcatatagaccagaggaacaatgagatcaacagttactggctcggtttgaacgagtttgcggatttgacccatgaagagttcaaaggaagatatctaggacttgcaaagccacaattctctagaaagagacagccctcagctaacttcaggtacagagatatcacggacttgcctaaatccgtagactggagaaagaaaggcgctgtggctcctgtcaaggaccagggtcaatgtggtagctgttgggcattttcaacagttgcagctgtcgaggggatcaaccagatcacaacagggaatctgagttcgctttcagagcaagaactcatagactgtgacacaactttcaacagtggctgcaatggaggtctcatggactacgcattccagtacataatttcgaccggtggtctccacaaagaagatgattacccttatctcatggaggaaggaatttgtcaagagcagaaagaggatgtggaacgtgtgacaatcagcggctacgaagatgtccctgaaaatgatgacgaaagcctggtgaaggctttagctcatcagccagtcagtgtggctattgaggcttcaggaagagacttccagttctacaaagggggagtgtttaatggtaaatgtggaacagacctagaccacggtgtggcagcggttggatatggttcatcaaagggatctgactatgttattgtcaagaactcatggggaccaagatggggagagaaagggtttattaggatgaagagaaacactggtaaaccagagggactctgtggaatcaacaagatggcctcatatcctaccaagaccaagtgatagatatacctttgttcctgcatcctacctttttttctttctttcaatgcatttctattgcacattatattgtattgatgaatgtgagattttaaaataacatggtaagagttctcttaccatttttctgactgcacatcctccaaatgctcatccagcttcaagaaacctaaaaaaacatgaccatagagctacctctctc

de 48..1115 (init - 1 hasta fin - 3 inclusive porque termina con codon de stop tga)
Alineamiento: https://www.ebi.ac.uk/Tools/services/web/toolresult.ebi?jobId=clustalo-I20200716-043353-0360-27515729-p1m
-----------------------
CDS
MALSSPSRILCFALALSAASLSLSFASSHDYSIVGYSPEDLESHDKLIELFENWISNFEKAYETVEEKFLRFEVFKDNLKHIDETNKKGKSYWLGLNEFADLSHEEFKKMYLGLKTDIVRRDEERSYAEFAYRDVEAVPKSVDWRKKGAVAEVKNQGSCGSCWAFSTVAAVEGINKIVTGNLTTLSEQELIDCDTTYNNGCNGGLMDYAFEYIVKNGGLRKEEDYPYSMEEGTCEMQKDESETVTINGHQDVPTNDEKSLLKALAHQPLSVAIDASGREFQFYSGGVFDGRCGVDLDHGVAAVGYGSSKGSDYIIVKNSWGPKWGEKGYIRLKRNTGKPEGLCGINKMASFPTKTK

Original (Q9LM66.2 'NM_101938.5')
DYSIVGYSPEDLESHDKLIELFENWISNFEKAYETVEEKFLRFEVFKDNLKHIDETNKKGKSYWLGLNEFADLSHEEFKKMYLGLKTDIVRRDEERSYAEFAYRDVEAVPKSVDWRKKGAVAEVKNQGSCGSCWAFSTVAAVEGINKIVTGNLTTLSEQELIDCDTTYNNGCNGGLMDYAFEYIVKNGGLRKEEDYPYSMEEGTCEMQKDESETVTINGHQDVPTNDEKSLLKALAHQPLSVAIDASGREFQFYSGGVFDGRCGVDLDHGVAAVGYGSSKGSDYIIVKNSWGPKWGEKGYIRLKRNTGKPEGLCGINKMASFPTK

secuencia cds
aaaagagcgacctctatcgagtctccagcctatataaacaggctcttctcttccatttcctcttatcaagtgacaaaagaaaaacaaacgtactcaaatggctctttcttcaccttcaagaatcctctgttttgctcttgccttatccgctgcttctctctccctctctttcgcttcttcccacgattactccatcgttggatactcccccgaggatttggaatctcatgacaaactcatagaactcttcgaaaactggatctcaaattttgagaaagcttatgaaaccgttgaagagaagtttcttaggttcgaagttttcaaggataatctaaagcacatcgatgagactaacaagaaagggaaaagctactggctcgggctcaacgagtttgcggatttgagccatgaggagttcaagaaaatgtatttagggctcaagactgatatagtgagacgcgatgaagaaagatcttacgcagagttcgcttacagggacgtcgaagctgttcctaagtctgttgactggagaaagaaaggagctgtggcggaagttaagaaccagggctcttgtggaagttgttgggcgttttcgacagtagcagctgtcgaaggtataaacaagattgtgacaggaaacttgacaacattgtcagaacaagaactcatagactgtgacacgacctacaacaatggctgcaacggtggtctcatggactatgcctttgagtacattgttaagaacggaggtctacgcaaggaagaagattatccttactctatggaagaaggaacttgcgagatgcaaaaggatgaatctgaaacagtaaccattaatggacaccaagacgtacctactaatgatgagaagagtctcttgaaggcattggctcatcagcctctcagtgtcgccattgatgcatctggtagagagttccagttctatagcggcggcgtgtttgatgggcggtgcggggttgatcttgaccacggtgtggctgcggttgggtatggatcaagcaagggttcagattacatcattgtgaagaattcttggggaccaaaatggggagaaaaaggttacatcaggctgaagaggaacactgggaaaccagagggtctctgtggaatcaacaagatggcttctttccccaccaaaactaagtgatcatcagatcattctctcttatctgcatttgatcagcatcttacagtgtcttcgttttttctcttttgatttatcaacggaagtcttgtaacaactatgtgcaataatacctatatataagaagcagagaattgacaaatttctagtaccaaccatgaagaaattaaagcagagaatattaaaaataatgattattgaagaaaagaacag

La traduccion de cds empieza en la posicion que dice el feature location (en este caso 98 - 1 a la 1168)
Alineamiento: https://www.ebi.ac.uk/Tools/services/web/toolresult.ebi?jobId=clustalo-I20200716-035518-0418-3416295-p1m

No alinea al principio pero tampoco alinea donde dice que empieza la region codificante (en cds dice 33 pero si se comparan empieza a alinear en la 29).
Esto quiere decir que hay que empezar a compararlas donde empiezan a coincidir y despues recien recortarlas?

Pruebas con otras bases de entrez
# fetch_response = Entrez.efetch(db="nuccore", id=ids, rettype="native", retmode="xml")
# fetch_response = Entrez.efetch(db="gene", id=ids, rettype="native", retmode="xml")

Preguntas: Por que no alinear la traduccion directamente con la primera del cd hit?

https://www.ebi.ac.uk/pdbe/docs/sifts/quick.html
Consultar uniprot api por pdb id

Ensembl se descarto por no tener la informacion que necesitaba
Investigacion de api
symbol_response = perform_request("lookup/symbol/homo_sapiens/Q8WZ42")
id_ = "ENSG00000155657"
id_ = "ENST00000342992"
lookup_response = perform_request(f"lookup/id/{id_}")

cdna_sequence_response = perform_request(f"sequence/id/{id_}?type=cdna")

cds_sequence_response = perform_request(f"sequence/id/{id_}?type=cds")

f = open("ttn-202.txt", "r")
content = f.read()
raw = content.rstrip().replace("\n", "")

f = open("uniprot.txt", "r")
uniprot_content = f.read().rstrip().replace("\n", "")

fr = open("ttn-202-result.txt", "r")
content2 = fr.read()

region = f"{lookup_response['start']}..{lookup_response['end']}"
cdna_region = perform_request(f"map/cdna/{id_}/{region}")

translation = perform_request(f"map/translation/{id_}/{region}") # Tira 500

translation

Uniprot ftp
https://ftp.uniprot.org/pub/databases/uniprot/current%5Frelease/knowledgebase/idmapping/

PDBS
https://ftp.ebi.ac.uk/pub/databases/msd/sifts/split_xml
Cortar el pdb id desde 1:3 (segundo y tercer char), esa es la primer carpeta y después el nombre completo es todo el pdb

Preguntas:
Qué pasa con las respuesta de entrez que no tienen cds? Debe ser porque no es uno de la base, ignorar
Qué pasa cuando no hay qué alinear? Cortar ahí

https://docs.google.com/spreadsheets/d/1-lkyhkNnA2yCsoNDN3v-1oVCsgH3I-qRtN1D4ue3Q_s/edit#gid=0